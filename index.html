<!DOCTYPE html>
<html lang = "en">
    <head>
        <title>Rock! Paper! Scissors!</title>
        <meta charset = "utf-8">
    </head>
    <body>
        <p id="game"></p>
        <script>
            // function to return a random word from the list
            function computerPlay(){
                let ranList = ["rock", "paper", "scissors"];
                let ranSel= ranList[Math.floor(Math.random()*ranList.length)]
                return ranSel;
            }

            // function to use players input as selection and compare with returned random word from computer function
            function playAround(playerSel, computerSel){
                let loss = "You lose! " + computerSel + " beats " + playerSel;
                let win = "You win! " + playerSel + " beats " + computerSel;
                
                // winning and losing conditions and output message for each round
                // for each condition increment score accordingly
                if((playerSel.toLowerCase() == "rock") && (computerSel == "paper") || (playerSel.toLowerCase() == "paper") && (computerSel == "scissors")){
                    console.log(loss);
                    scoreAgainst++;

                }

                else if((playerSel.toLowerCase() == "paper") && (computerSel == "rock") || (playerSel.toLowerCase() == "scissors") && (computerSel == "paper")){
                    console.log(win);
                    scoreFor++;

                }

                else if((playerSel == computerSel)){
                    console.log(playerSel + " " + computerSel + ". Its a tie! Try again")
                }

                else{
                   console.log(playerSel + " is invalid! Please select only from rock, paper or scissors")

                }
            }
            let scoreAgainst = 0;
            let scoreFor = 0;

            // function to play 5 rounds
            function game(){
                let playerSel = " ";
                computerSel = computerPlay();
                for(i=0; i<5; i++){
                    playerSel = prompt("Select your weapon: ");
                    
                    playAround(playerSel, computerSel);
                    computerSel = computerPlay();

                }
                // output message to alert player on the outcome of the whole match
                switch(true){
                    default:
                        alert("Final score is " + scoreFor + ":" + scoreAgainst + "." + "You Tie!");
                        break;
                    case scoreFor>scoreAgainst:
                        alert("Final score is " + scoreFor + ":" + scoreAgainst + "." + "You Win!");
                        break;
                    case scoreFor<scoreAgainst:
                        alert("Final score is " + scoreFor + ":" + scoreAgainst + "." + "It's a lose!");
                        break;
                }
                scoreAgainst = 0;
                scoreFor = 0;
            }
            document.getElementById("game").innerHTML = game();
        </script>
    </body>
</html>